<section id="projetos" class="projects section">
  <div class="container">
    <h2 class="section-title">Mes Projets</h2>
    <div class="projects-grid">
      <div class="project-card" *ngFor="let project of paginatedProjects">
        <div class="project-image">
          <img [src]="project.image" [alt]="project.title" />
        </div>
        <div class="project-content">
          <h3>{{ project.title }}</h3>
          <p>{{ project.description }}</p>
          <div class="project-tech">
            <h4>Technologies utilisées :</h4>
            <div class="tech-tags">
              <div
                *ngFor="let tech of project.technologies"
                class="tech-tag"
                [title]="getTechLogo(tech)?.name"
              >
                <i
                  *ngIf="getTechLogo(tech)"
                  [class]="getTechLogo(tech)?.logo"
                ></i>
                <span>{{ getTechLogo(tech)?.name || tech }}</span>
              </div>
            </div>
          </div>
          <div class="project-links">
            <a
              [href]="project.github"
              target="_blank"
              rel="noopener noreferrer"
              [class]="
                project.demo
                  ? 'project-btn project-btn-secondary'
                  : 'project-btn project-btn-primary'
              "
              [class.compact]="project.demo"
              *ngIf="project.github"
            >
              <i class="fab fa-github"></i> <span>GitHub</span>
            </a>
            <a
              [href]="project.demo"
              target="_blank"
              rel="noopener noreferrer"
              class="project-btn project-btn-primary"
              [class.compact]="project.github"
              *ngIf="project.demo"
            >
              <i class="fas fa-external-link-alt"></i>
              <span>Voir le projet</span>
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Paginação -->
    <div class="projects-pagination" *ngIf="totalPages > 1">
      <button
        class="page-button"
        [class.active]="currentPage === 1"
        (click)="changePage(currentPage - 1)"
        [disabled]="currentPage === 1"
      >
        <i class="fas fa-chevron-left"></i>
      </button>

      <button
        *ngFor="let page of pages"
        class="page-button"
        [class.active]="currentPage === page"
        (click)="changePage(page)"
      >
        {{ page }}
      </button>

      <button
        class="page-button"
        [class.active]="currentPage === totalPages"
        (click)="changePage(currentPage + 1)"
        [disabled]="currentPage === totalPages"
      >
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
  </div>
</section>
